<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>404 Not Found</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #000;
  color: #eaeaea;
  font-family: monospace;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
}

.wrapper {
  text-align: center;
  max-width: 720px;
  padding: 20px;
}

h1 {
  font-size: 64px;
  letter-spacing: 8px;
  color: #9a9a9a;
  margin-bottom: 10px;
}

.sub {
  font-size: 14px;
  color: #555;
  margin-bottom: 60px;
}

.message {
  font-size: 18px;
  margin-bottom: 8px;
}

.error {
  font-size: 14px;
  margin-bottom: 40px;
}

button {
  display: block;
  width: 300px;
  margin: 12px auto;
  padding: 14px;
  font-size: 14px;
  cursor: pointer;
  font-family: monospace;
  transition: all 0.2s ease;
}

.primary {
  background: #fff;
  color: #000;
  border: none;
}

.primary:hover {
  background: #ddd;
}

.secondary {
  background: transparent;
  color: #aaa;
  border: 1px solid #333;
}

.secondary:hover {
  color: #fff;
  border-color: #666;
}

.footer {
  margin-top: 60px;
  font-size: 12px;
  color: #555;
  line-height: 1.6;
}
</style>
</head>

<body>

<div class="wrapper">

  <h1>404 NOT FOUND</h1>
  <div class="sub">server responded with anomaly</div>

  <div class="message" id="dynamicMessage"></div>
  <div class="error">
    This page has been registered as error #<span id="errorId"></span>
  </div>

  <button class="primary" onclick="claim404()">
    Claim permanent ownership of this 404 (Premium)
  </button>

  <button class="secondary" onclick="buySecond()">
    Interact with this 404 for 1 second
  </button>

  <div class="footer">
    Last activity: <span id="lastActivity"></span><br>
    Interactions on this device: <span id="interactionCount"></span>
  </div>

</div>

<script>
/* ===============================
   CONFIG
================================ */
const STRIPE_404_URL = "https://buy.stripe.com/28EeVd6Aiakp8Ky0JJco002";
const STRIPE_SECOND_URL = "https://buy.stripe.com/4gMbJ1bUC2RX9OCbonco003";

/* ===============================
   ERROR ID
================================ */
const errorId = Math.floor(Math.random() * 90000) + 10000;
document.getElementById("errorId").textContent = errorId;

/* ===============================
   INTERACTIONS
================================ */
let interactions = parseInt(localStorage.getItem("interactions") || "0");
interactions++;
localStorage.setItem("interactions", interactions);
document.getElementById("interactionCount").textContent = interactions;

/* ===============================
   SYSTEM MESSAGES
================================ */
const firstVisitMessages = [
  "Unregistered anomaly detected.",
  "New error instance observed.",
  "This error has not been claimed.",
  "An unowned 404 has surfaced."
];

const repeatedVisitMessages = [
  "Repeated access detected.",
  "This error has already been observed.",
  "Residual interaction traces found.",
  "System notes continued attention."
];

const messages =
  interactions > 1 ? repeatedVisitMessages : firstVisitMessages;

document.getElementById("dynamicMessage").textContent =
  messages[Math.floor(Math.random() * messages.length)];

/* ===============================
   LAST ACTIVITY
================================ */
const now = Date.now();
const last = localStorage.getItem("lastActivity");

if (last) {
  const secondsAgo = Math.floor((now - last) / 1000);
  document.getElementById("lastActivity").textContent =
    secondsAgo + " seconds ago";
} else {
  document.getElementById("lastActivity").textContent = "never";
}

localStorage.setItem("lastActivity", now);

/* ===============================
   ACTIONS
================================ */
function claim404() {
  window.location.href =
    STRIPE_404_URL + "?error=" + errorId;
}

function buySecond() {
  window.location.href =
    STRIPE_SECOND_URL + "?error=" + errorId;
}
</script>

</body>
</html>
